# E3-F5-S1 WCAG-aware color cards and contrast calculations

## User Story

As a product designer, I want WCAG-aware color cards that preview text/icons and report contrast status so I can judge accessibility while browsing the scale.

## Related Epic

- [E3](./E3.md) – Tonal scale builder migration epic.

## Related Feature

- [E3-F5](./E3-F5.md) – Accessibility helpers, clipboard, and sharing utilities feature.

## Scope

- Build reusable color card components that display large/regular text, icon samples, and paired color references driven by tonal state.
- Implement luminance-based contrast calculations rounded to one decimal place, reused across cards and context helpers.
- Update cards on hover/selection events; clear/reset when no valid pair exists.
- Include ARIA labels and focus handling to keep cards accessible.
- Keep cards reactive to shared state rather than mutating DOM nodes directly as in the prototype’s hover handlers, so preview updates stay testable and isolated.【F:temp/src/js/index.js†L621-L706】【F:temp/src/js/index.js†L668-L706】

## Acceptance Criteria

- Four color cards render with text/icon previews and WCAG AA/AAA indicators sourced from contrast calculations.
- Hovering a swatch updates the cards with the hovered color and nearest valid pair; clearing hover resets the cards.
- Contrast ratios display with one-decimal precision and match calculations used elsewhere in the app.
- Component tests validate contrast outputs and card updates for representative tonal inputs.
- Cards respond to composable-provided hover/selection data instead of querying the document for state, keeping accessibility props declarative.

## Notes

- Align card layout, data, and update flows with the `temp/` prototype exactly; swap in Tailwind/Headless UI without altering behaviors.
